[build]
builder = "DOCKERFILE"
dockerfilePath = "./Dockerfile"

[deploy]
preDeployCommand = [
    "uv run --no-sync --no-dev python portfolio/manage.py migrate"
]
startCommand = """
    sh -c '
        cd portfolio &&
        uv run --no-sync --no-dev python manage.py compilemessages &&
        uv run --no-sync --no-dev python manage.py collectstatic --no-input &&
        gunicorn portfolio.wsgi:application --bind 0.0.0.0:$PORT
    '
"""
healthcheckPath = "/healthcheck/"
